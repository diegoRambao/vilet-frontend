<ion-content class="ion-padding">
  <h3 class="title">Hola Diego Â¿Que necesitas?</h3>
  <span class="disclaimer">{{ 'chooseCategory' | translate }}</span>

  <div class="list-of-category">
    <ng-container *ngIf="!loading">
      <div
        class="card-category"
        *ngFor="let category of categories"
        (click)="setOpen(category)"
      >
        <img [src]="'assets/icon/' + category.icon + '.svg'" alt="" />
        <span>{{ category.name }}</span>
      </div>
    </ng-container>

    <ng-container *ngIf="loading">
      <ion-skeleton-text
        [animated]="true"
        style="height: 83px; border-radius: 10px"
        *ngFor="let _ of [1,2,3,4,5,6,7,8,9]"
      ></ion-skeleton-text>
    </ng-container>
  </div>

  <ion-modal trigger="open-modal" [isOpen]="isModalOpen">
    <ng-template>
      <ion-header mode="ios">
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">
              <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
            </ion-button>
          </ion-buttons>

          <ion-title>{{ categorySelected.name }}</ion-title>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-list>
          <ion-item
            button
            mode="ios"
            lines="none"
            *ngFor="let subcategory of categorySelected.subcategories"
          >
            <ion-label>{{ subcategory.name }}</ion-label>
          </ion-item>
        </ion-list>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
